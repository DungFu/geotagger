<!DOCTYPE html>
<html>
  <head>
    <title>Photo Geotagging</title>
    <!--[if IE]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
      article, aside, figure, footer, header, hgroup, 
      menu, nav, section { display: block; }

      body {
        height: 100%;
        width: 100%;
      }

      #map {
        background: #f00;
        left: 0;
        top: 0;
        position:
        absolute;
        width: 50%;
        height: 100%;
      }

      #right-col {
        right: 0;
        top: 0;
        position:
        absolute;
        width: 50%;
        height: 100%;
      }

      #current {
        width: 100%;
      }

      .off-screen {
        right: -9999px;
        position: absolute;
      }
    </style>
  </head>
  <body>
    <script type="text/javascript">
      var files = [];
      var currentFile = -1;
      function readURL(input) {
        files = input.files;
        next();
      }
      function next() {
        var basePath = 'http://localhost:8080/convert/';
        if (currentFile < files.length - 1) {
          currentFile++;
          document.getElementById("current").src =
            basePath + files[currentFile].name + '?width=' + parseInt(screen.width/2);
          for (var i = 1; i <= 5; i++) {
            if (currentFile + i < files.length) {
              document.getElementById("next"+i).src =
                basePath + files[currentFile + i].name + '?width=' + parseInt(screen.width/2);
            } else {
              break;
            }
          }
          
        } else {
          alert('no more photos');
        }
      }
    </script>
    <div id="map">Map Placeholder</div>
    <div id="right-col">
      <input type='file' onchange="readURL(this);" multiple style="clear: none;"/>
      <button onclick="next()">Next</button>
      <img id="current" src="#" alt="your image"/>
    </div>
    <img id="next1" src="#" class="off-screen"/>
    <img id="next2" src="#" class="off-screen"/>
    <img id="next3" src="#" class="off-screen"/>
    <img id="next4" src="#" class="off-screen"/>
    <img id="next5" src="#" class="off-screen"/>
  </body>
</html>